# Changelog

## 1.0.0 (2022-12-01)


### âš  BREAKING CHANGES

* rename static indexeddb store method create to open ([#211](https://github.com/web3-storage/w3protocol/issues/211))
* rename callback ([#198](https://github.com/web3-storage/w3protocol/issues/198))
* **access-client:** bump to major
* store/list and upload/list types now require nb object with optional properties
* doc capabilities & make requierd nb non-optionals ([#159](https://github.com/web3-storage/w3protocol/issues/159))
* Remove 0.8 caps and add account delegation to the service ([#123](https://github.com/web3-storage/w3protocol/issues/123))
* bump to 0.9 ([#116](https://github.com/web3-storage/w3protocol/issues/116))
* new accounts ([#72](https://github.com/web3-storage/w3protocol/issues/72))
* awake ([#66](https://github.com/web3-storage/w3protocol/issues/66))

### Features

* [#153](https://github.com/web3-storage/w3protocol/issues/153) ([#177](https://github.com/web3-storage/w3protocol/issues/177)) ([d6d448c](https://github.com/web3-storage/w3protocol/commit/d6d448c16f188398c30f2d1b83f69e1d7becd450))
* a base for a new web3.storage upload-client ([#141](https://github.com/web3-storage/w3protocol/issues/141)) ([9d4b5be](https://github.com/web3-storage/w3protocol/commit/9d4b5bec1f0e870233b071ecb1c7a1e09189624b))
* abortable pullRegisterDelegation ([#56](https://github.com/web3-storage/w3protocol/issues/56)) ([adc0568](https://github.com/web3-storage/w3protocol/commit/adc0568e9f521d978b9886f483c42e61d27515b6))
* **access-api:** add email notifications ([40b5332](https://github.com/web3-storage/w3protocol/commit/40b53323b9c569b191f35d62d32aac844de18fdd))
* **access-api:** add logtail ([1246ab0](https://github.com/web3-storage/w3protocol/commit/1246ab0846f49f9adce734cf4f651d22f7ac7536))
* **access-api:** add prod config ([60707ec](https://github.com/web3-storage/w3protocol/commit/60707ecef6ed1af8d8fe38f9ee0deb9761cb80a6))
* **access-api:** new email template ([cc19320](https://github.com/web3-storage/w3protocol/commit/cc193202e385d8079144aa90e989af07cf743b0b))
* **access-client:** bump to major ([4d5899f](https://github.com/web3-storage/w3protocol/commit/4d5899f7ad7e7b4901dcc773d7348d3d09c4dca9))
* account recover with email ([#149](https://github.com/web3-storage/w3protocol/issues/149)) ([6c659ba](https://github.com/web3-storage/w3protocol/commit/6c659ba68d23c3448d5150bc76f1ddcb91ae18d8))
* add cancel create account ([#132](https://github.com/web3-storage/w3protocol/issues/132)) ([feec113](https://github.com/web3-storage/w3protocol/commit/feec113f04bd3b5c2eb570ba88e8c14274f91ed6))
* add IndexedDB Store implementation ([#120](https://github.com/web3-storage/w3protocol/issues/120)) ([9d73a26](https://github.com/web3-storage/w3protocol/commit/9d73a26f7ab81f5baf9e7486ab99c1404a3dfff4))
* add static uploads API ([#148](https://github.com/web3-storage/w3protocol/issues/148)) ([d85d051](https://github.com/web3-storage/w3protocol/commit/d85d0515c80b14d97844fe68266f4fb637b6ba76))
* add support for list pagination in list capability invocations ([#184](https://github.com/web3-storage/w3protocol/issues/184)) ([ced23db](https://github.com/web3-storage/w3protocol/commit/ced23db27f3b2a6122d4d0a684264f64b26ac95f))
* allow custom shard size ([#185](https://github.com/web3-storage/w3protocol/issues/185)) ([0cada8a](https://github.com/web3-storage/w3protocol/commit/0cada8af91bff96f93a87ffcc155efc176aa2a60))
* awake ([#66](https://github.com/web3-storage/w3protocol/issues/66)) ([bb66f57](https://github.com/web3-storage/w3protocol/commit/bb66f5772049e3363a753ea5b336c2fa1e42911e))
* bump to 0.9 ([#116](https://github.com/web3-storage/w3protocol/issues/116)) ([3e0b63f](https://github.com/web3-storage/w3protocol/commit/3e0b63f38aace3a86655a1aa40e529c1501dc136))
* cloudflare and website ([#20](https://github.com/web3-storage/w3protocol/issues/20)) ([a987587](https://github.com/web3-storage/w3protocol/commit/a98758778ccdf79a106366a0b96547fc12fdeaa9))
* doc capabilities & make requierd nb non-optionals ([#159](https://github.com/web3-storage/w3protocol/issues/159)) ([6496773](https://github.com/web3-storage/w3protocol/commit/6496773f2a4977e06126ade37ae9dfc218b05f7f))
* explicit resource ([#181](https://github.com/web3-storage/w3protocol/issues/181)) ([785924b](https://github.com/web3-storage/w3protocol/commit/785924ba94f4bc6696a5a9e3a0b66a2447f179f1))
* fail validate for register email and add metrics ([0916ba6](https://github.com/web3-storage/w3protocol/commit/0916ba6bda8ad46ccc4f6bb0c6f4a48dd99db0c8))
* implement store/add size constraint ([#89](https://github.com/web3-storage/w3protocol/issues/89)) ([efd8a2f](https://github.com/web3-storage/w3protocol/commit/efd8a2faa0348ba9d467ca0c306ddec95aa6d05f))
* new accounts ([#72](https://github.com/web3-storage/w3protocol/issues/72)) ([9f6cb41](https://github.com/web3-storage/w3protocol/commit/9f6cb419d33b9446dd80f8541228096cf2677d45))
* optional space name ([#202](https://github.com/web3-storage/w3protocol/issues/202)) ([4b7cf64](https://github.com/web3-storage/w3protocol/commit/4b7cf64a526930fdabf531adcb4b0198a37098d5))
* register ([ee3eb94](https://github.com/web3-storage/w3protocol/commit/ee3eb94a90d53877a464d7a076e0ae2d849719eb))
* Remove 0.8 caps and add account delegation to the service ([#123](https://github.com/web3-storage/w3protocol/issues/123)) ([878f8c9](https://github.com/web3-storage/w3protocol/commit/878f8c9a38f02dac509ef0b4437ab3d1b8467eb3)), closes [#117](https://github.com/web3-storage/w3protocol/issues/117) [#121](https://github.com/web3-storage/w3protocol/issues/121)
* rename static indexeddb store method create to open ([#211](https://github.com/web3-storage/w3protocol/issues/211)) ([8744a1e](https://github.com/web3-storage/w3protocol/commit/8744a1e12bd720cc373af6140ce5a18c6b094e2e))
* repo and worker setup ([#16](https://github.com/web3-storage/w3protocol/issues/16)) ([49c389f](https://github.com/web3-storage/w3protocol/commit/49c389fe1a257305ce39bc95a98a1e1fa6944b0a))
* resync ([5cae9cd](https://github.com/web3-storage/w3protocol/commit/5cae9cd55cfcc06046eb23a2f33931299dd07ff5))
* sdk ([305b2d3](https://github.com/web3-storage/w3protocol/commit/305b2d317ba4b8743a1594e9dbe0d22bac90c229))
* sdk and cli ([2373447](https://github.com/web3-storage/w3protocol/commit/2373447db93ee16276f45fbfe40e4b98c28b6ab7))
* support pagination ([#204](https://github.com/web3-storage/w3protocol/issues/204)) ([a5296a6](https://github.com/web3-storage/w3protocol/commit/a5296a6dcaf02840ae9914c2a22090f0c6da017a)), closes [#201](https://github.com/web3-storage/w3protocol/issues/201)
* support ucan as bearer ([#50](https://github.com/web3-storage/w3protocol/issues/50)) ([bc73755](https://github.com/web3-storage/w3protocol/commit/bc73755a308d116ba42f67cef2c7a6be5307c327))
* ucan endpoint ([#17](https://github.com/web3-storage/w3protocol/issues/17)) ([07cbfc8](https://github.com/web3-storage/w3protocol/commit/07cbfc880d0961262a1063159066c23fbb6ff4db)), closes [#4](https://github.com/web3-storage/w3protocol/issues/4)
* update deps ([d276375](https://github.com/web3-storage/w3protocol/commit/d2763750159ad56132f0b002ff5f50cc36fce20c))
* upload/* capabilities ([#81](https://github.com/web3-storage/w3protocol/issues/81)) ([6c0e24f](https://github.com/web3-storage/w3protocol/commit/6c0e24f50e08ece893666be2a5b46237df5cc83f))
* use modules and setup ([#99](https://github.com/web3-storage/w3protocol/issues/99)) ([b060c0b](https://github.com/web3-storage/w3protocol/commit/b060c0b299ee55dbe7820231c63be90129a39652)), closes [#98](https://github.com/web3-storage/w3protocol/issues/98)


### Bug Fixes

* 0.9 ([#78](https://github.com/web3-storage/w3protocol/issues/78)) ([1b1ed01](https://github.com/web3-storage/w3protocol/commit/1b1ed01d537e88bbdeb5ea2aeb967b27bd11f87d))
* **access-api:** add kvs ([e241d62](https://github.com/web3-storage/w3protocol/commit/e241d6290d93bfc20986591398ab20af6173ef78))
* **access-api:** add logtail to tests ([546152a](https://github.com/web3-storage/w3protocol/commit/546152aea75aff393935d866cbd9c1a818e81725))
* **access-api:** add name to emails and fix miniflare dev ([ad84b46](https://github.com/web3-storage/w3protocol/commit/ad84b4696ec9078800d4bb99597bc1da5068abc1)), closes [#60](https://github.com/web3-storage/w3protocol/issues/60)
* **access-api:** changes names, update deps ([3f9e1f8](https://github.com/web3-storage/w3protocol/commit/3f9e1f800728f57a9b194154c1b2e0133aa5bca4))
* **access-api:** ci tests ([314cf63](https://github.com/web3-storage/w3protocol/commit/314cf635aa632e05a79822c5f7ec012559ff4427))
* **access-api:** cors on errors ([bb8e916](https://github.com/web3-storage/w3protocol/commit/bb8e91693be87186846bac166b1e5ab05c33a112))
* **access-api:** test error in staging ([1a97a57](https://github.com/web3-storage/w3protocol/commit/1a97a5797678d242db5849d9f10b8bc1907873d6))
* **access-api:** use different email for tests ([1a01504](https://github.com/web3-storage/w3protocol/commit/1a0150429253afc572c9689f0a09a4c26499bd03))
* **access:** export cap types ([ae70810](https://github.com/web3-storage/w3protocol/commit/ae7081015422abf88e8dbf0bedede805d6b05297))
* add analytics to staging and prod ([14941d9](https://github.com/web3-storage/w3protocol/commit/14941d901e48e92896cc962b3e93488731afa381))
* add proof of voucher redeem ([#213](https://github.com/web3-storage/w3protocol/issues/213)) ([f96f813](https://github.com/web3-storage/w3protocol/commit/f96f813e3e0656ef293bfb2191c7e97cb07e01bb))
* add readme ([25a01f5](https://github.com/web3-storage/w3protocol/commit/25a01f54c4db8f5af75e23c924d86a7a67823beb))
* add readme text ([088273e](https://github.com/web3-storage/w3protocol/commit/088273e97a72f7ec85c60a5cb5dd6a8754603064))
* allow custom store name ([81f27eb](https://github.com/web3-storage/w3protocol/commit/81f27ebdbbeedb7eaa258284cee2bd11d245d823))
* api ([4e70483](https://github.com/web3-storage/w3protocol/commit/4e7048316d3ed95f5b7606830d75420c5020bf53))
* bump api ([88a381a](https://github.com/web3-storage/w3protocol/commit/88a381ae2077d24ccd762dc7fb47f91a58268e89))
* change sentry name ([ad69e47](https://github.com/web3-storage/w3protocol/commit/ad69e47cb01ad1acedccf95798eacd9a649659bd))
* connection method is not async ([#222](https://github.com/web3-storage/w3protocol/issues/222)) ([0dd1633](https://github.com/web3-storage/w3protocol/commit/0dd16338836d96bd0dcb920385e4ed90f16c45ad))
* Document deployment procerss and URLs [#100](https://github.com/web3-storage/w3protocol/issues/100) ([#105](https://github.com/web3-storage/w3protocol/issues/105)) ([efee355](https://github.com/web3-storage/w3protocol/commit/efee355176512d4a4a4b58a5e04e0989a2a422fb))
* export map for agent ([#212](https://github.com/web3-storage/w3protocol/issues/212)) ([a6367ee](https://github.com/web3-storage/w3protocol/commit/a6367eeaa1f9a368001078af498df3a536f6da62))
* export stores ([#125](https://github.com/web3-storage/w3protocol/issues/125)) ([d3fa14d](https://github.com/web3-storage/w3protocol/commit/d3fa14d6fe72c6b306b4a5b05276fbf137ab28f0))
* export types ([c8d0a3f](https://github.com/web3-storage/w3protocol/commit/c8d0a3fa39dd8eae1bb125a4b150280ea0f4be0d))
* fix ci ([bb0a04a](https://github.com/web3-storage/w3protocol/commit/bb0a04aad4ff720a9d20e58fc048b3cfe3d733f9))
* fix ci ([dc68f9b](https://github.com/web3-storage/w3protocol/commit/dc68f9b76d5c7ad377f4ffc1ee9472c1c7d3d642))
* fix ci ([ce8f7a9](https://github.com/web3-storage/w3protocol/commit/ce8f7a937a336c6f86d22a25fe4a4465f0c86c58))
* list response results return type ([#206](https://github.com/web3-storage/w3protocol/issues/206)) ([4bca6c1](https://github.com/web3-storage/w3protocol/commit/4bca6c10657c084f59a0b10ba74072b38266c922))
* lock file ([38228bc](https://github.com/web3-storage/w3protocol/commit/38228bc0f92a6517b2a1f2c5b06dcf19040180e9))
* make multiformats 9 go away ([#133](https://github.com/web3-storage/w3protocol/issues/133)) ([2668880](https://github.com/web3-storage/w3protocol/commit/2668880a23c28ee45596fb1bc978564908a17e18))
* make sure client dont break each other builds because of types. ([#195](https://github.com/web3-storage/w3protocol/issues/195)) ([ab395af](https://github.com/web3-storage/w3protocol/commit/ab395af2ec4c313025d036d83126ee933b027f60))
* miniflare dev script ([#137](https://github.com/web3-storage/w3protocol/issues/137)) ([1c5a4e2](https://github.com/web3-storage/w3protocol/commit/1c5a4e2f89018fdf1624cc41650764ee08f9adc4))
* more reuse ([f4ca6ab](https://github.com/web3-storage/w3protocol/commit/f4ca6ab69758dcd4f646714f0ced4c945bb12453))
* new email for notifications ([57b6845](https://github.com/web3-storage/w3protocol/commit/57b6845a56f534505eeabdf5ab2e20f8b37c9532))
* proper envs and update deps ([d5dccb6](https://github.com/web3-storage/w3protocol/commit/d5dccb6e9c23b5ddbdffa4c67c04d195524b38f2))
* publish all dist ts files ([#127](https://github.com/web3-storage/w3protocol/issues/127)) ([f705073](https://github.com/web3-storage/w3protocol/commit/f70507305080c08665f51f7b75bd388048be86f7))
* reconfigure ava to avoid ci problems ([ce2006e](https://github.com/web3-storage/w3protocol/commit/ce2006eb8f02153618c2e483a5bb5983443ff89a))
* redirect on success ([#77](https://github.com/web3-storage/w3protocol/issues/77)) ([0e67f3b](https://github.com/web3-storage/w3protocol/commit/0e67f3be07118dd132770818486d2498416a300f))
* regression from `store -&gt; all` name change ([#90](https://github.com/web3-storage/w3protocol/issues/90)) ([14a6a5b](https://github.com/web3-storage/w3protocol/commit/14a6a5b72deca8391420aa0c2dba9eac2d912ef2))
* release staging and dev ([80165e5](https://github.com/web3-storage/w3protocol/commit/80165e57ba3b79cb5c217ba7f5db35eaae9485aa))
* remove error ([1ba180b](https://github.com/web3-storage/w3protocol/commit/1ba180b2c8a2da5dd9d3a69f23bcd93022500d6e))
* remove it@dag.house ([8d319fe](https://github.com/web3-storage/w3protocol/commit/8d319fef315fa5dd3a0b88b8bf23f5576e8adc28))
* revert fail email validation ([389784b](https://github.com/web3-storage/w3protocol/commit/389784bb995b18683ca71af63816db123880d3eb))
* round trip delegations in IndexedDB store ([#216](https://github.com/web3-storage/w3protocol/issues/216)) ([e111ea3](https://github.com/web3-storage/w3protocol/commit/e111ea310ae8fbe88c33c87a82c3269a46dd2955))
* route for staging ([8d5866f](https://github.com/web3-storage/w3protocol/commit/8d5866f2bf870eaf2bb26bddef02ee8a0b6d1386))
* staging ([29db547](https://github.com/web3-storage/w3protocol/commit/29db547848e8a5cab4d5c91a72010ed4aec5d09c))
* staging ([53f62b0](https://github.com/web3-storage/w3protocol/commit/53f62b0269a7c3def5c22afb2b888d5886683f05))
* store export ([#197](https://github.com/web3-storage/w3protocol/issues/197)) ([9b836e6](https://github.com/web3-storage/w3protocol/commit/9b836e607a9339cac41f75bfa09c36dc0f3d6874))
* temporary patch to allow fetch usage in browser ([#57](https://github.com/web3-storage/w3protocol/issues/57)) ([beff06e](https://github.com/web3-storage/w3protocol/commit/beff06ea5f4b0adb08f6fce59422373d818c3b9e))
* test api ([9597c44](https://github.com/web3-storage/w3protocol/commit/9597c4486abb1c21a0d8a504d4bb8632581e4800))
* testing staging deploy ([3d500fa](https://github.com/web3-storage/w3protocol/commit/3d500fa4e6cd17a1c0c9739fb3e0e722f97d599d))
* throw error or return value ([#131](https://github.com/web3-storage/w3protocol/issues/131)) ([cddf7b9](https://github.com/web3-storage/w3protocol/commit/cddf7b9884d5f7c83f734e1c9d8543a1fc0a80ad))
* try to deploy api staging ([18b7b29](https://github.com/web3-storage/w3protocol/commit/18b7b296cb7e94c7fddeb163340cc0e72ce51c0a))
* try to deploy staging ([c616818](https://github.com/web3-storage/w3protocol/commit/c61681883e69982c5ae378e6ffbf54f45c397c89))
* update readme ([2f78a93](https://github.com/web3-storage/w3protocol/commit/2f78a930ef46b1e80d63f8e9b3bce6e960d5e4d9))
* upload client list needs empty nb ([#194](https://github.com/web3-storage/w3protocol/issues/194)) ([ff7fbb8](https://github.com/web3-storage/w3protocol/commit/ff7fbb82913e0ef64e9439bb3444e37b331eb483))
* upload/add capability root validation ([#136](https://github.com/web3-storage/w3protocol/issues/136)) ([aae5b66](https://github.com/web3-storage/w3protocol/commit/aae5b66112e6783054302b1f718f4c351aa80f3f))
* uploadFile requires BlobLike not Blob ([1cc7681](https://github.com/web3-storage/w3protocol/commit/1cc768167f834af63d34c421aa62726ee3f2ed31))
* **wallet:** test wf ([24eb19a](https://github.com/web3-storage/w3protocol/commit/24eb19a6d141ee0e74dac005560e055abc051181))
* **wallet:** yo ([c76d82d](https://github.com/web3-storage/w3protocol/commit/c76d82deb561527163d17664973318648e351097))
* wf testing ([65bb316](https://github.com/web3-storage/w3protocol/commit/65bb31671f2e7475a0c7a353e5cbb8ba07855ddb))
* workaround for ts bug in upload capabilities ([#171](https://github.com/web3-storage/w3protocol/issues/171)) ([b8d05b2](https://github.com/web3-storage/w3protocol/commit/b8d05b2ebabafa3081378bbc186fc766dde256c3))
* workaround ts bug & generate valid typedefs ([#169](https://github.com/web3-storage/w3protocol/issues/169)) ([0b02d14](https://github.com/web3-storage/w3protocol/commit/0b02d14cc5b51ac0a0b8c879a917430ce0617dc7))


### Code Refactoring

* rename callback ([#198](https://github.com/web3-storage/w3protocol/issues/198)) ([5b8ef7d](https://github.com/web3-storage/w3protocol/commit/5b8ef7d18b9c6472f1a24384558ae48d31358000))
